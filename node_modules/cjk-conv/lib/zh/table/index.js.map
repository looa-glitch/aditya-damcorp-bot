{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Created by user on 2018/2/17/017.\n */\n\nimport { jp2zht, jp2zhs, zh2jp, cjk2zht, cjk2zhs, cjk2jp } from '../../jp';\nimport libTable from './table';\nimport { array_unique } from 'array-hyper-unique';\nimport { slugify } from './list';\nimport { greedyTableCharArray } from './greedy';\nimport jpList from '../../jp/list';\n\nexport { libTable }\n\nexport type IOptions = {\n\tsafe?: boolean,\n\tskip?,\n\tgreedyTable?: boolean | number,\n}\n\nexport function _get(a, value, ...values)\n{\n\ta = libTable._get(a, value, ...values);\n\n\treturn array_unique(a).sort();\n}\n\nfunction _wrapFn(fn: string)\n{\n\treturn function (char: string, options: IOptions = {}): string[]\n\t{\n\t\tif (!char)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tif (options.skip && options.skip.indexOf(char) != -1)\n\t\t{\n\t\t\treturn [char];\n\t\t}\n\n\t\tlet a = libTable[fn](char, options);\n\n\t\ta = array_unique(a);\n\t\ta.sort();\n\n\t\treturn a;\n\t}\n}\n\n/**\n * 取出此漢字所對應的繁漢字\n * @type {(char: string, options?: IOptions) => string[]}\n */\nexport const tw = _wrapFn('tw');\n\n/**\n * 取出此漢字所對應的簡漢字\n * @type {(char: string, options?: IOptions) => string[]}\n */\nexport const cn = _wrapFn('cn');\n\n/**\n * 取出此漢字所對應的日漢字\n * @type {(char: string, options?: IOptions) => string[]}\n */\nexport const jp = _wrapFn('jp');\n\n/**\n * 自動取出此漢字所對應的簡繁日漢字\n *\n * @param {string} char\n * @param {IOptions} options\n * @returns {string[]}\n */\nexport function auto(char: string, options: IOptions = {}): string[]\n{\n\tif (!char)\n\t{\n\t\treturn null;\n\t}\n\n\tif (options.skip && options.skip.indexOf(char) != -1)\n\t{\n\t\treturn [char];\n\t}\n\n\tlet jt = jp2zht(char);\n\tlet js = jp2zhs(char);\n\n\tlet greedyTable: number = (options.greedyTable as any) | 0;\n\n\tlet a = _get([],\n\t\tchar,\n\t\tlibTable.tw(char, options),\n\t\tlibTable.cn(char, options),\n\t\t(!options.skip || options.skip.indexOf(jt) == -1) && libTable.cn(jt, options),\n\t\t(!options.skip || options.skip.indexOf(js) == -1) && libTable.tw(js, options),\n\t\tlibTable.jp(char, options),\n\n\t\t(greedyTable && cjk2jp(char)),\n\t\t(greedyTable && cjk2zhs(char)),\n\t\t(greedyTable && cjk2zht(char)),\n\n\t\t(greedyTable && jpList.zh2jp(char, {\n\t\t\tsafe: greedyTable <= 1\n\t\t})),\n\t\t(greedyTable && jpList.jp2zh(char, {\n\t\t\tsafe: greedyTable <= 1\n\t\t})),\n\n\t\t(greedyTable > 1 && greedyTableCharArray(char)),\n\t\t);\n\n\t/*\n\tif (!skip || skip.indexOf(jt) == -1)\n\t{\n\t\ta = a.concat(...cn(jt));\n\t}\n\tif (!skip || skip.indexOf(js) == -1)\n\t{\n\t\ta = a.concat(...tw(js));\n\t}\n\n\tif (zhtw_convert.table_jp[char])\n\t{\n\t\ta = a.concat(jp(char));\n\t}\n\n\ta = array_unique(a);\n\ta.sort();\n\t*/\n\n\treturn a;\n}\n\nexport default exports as typeof import('./index');\n"]}