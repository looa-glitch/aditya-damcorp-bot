{"version":3,"file":"table.js","sourceRoot":"","sources":["table.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Created by user on 2017/12/24/024.\n *\n * @see https://www.jcinfo.net/tw/tools/kanji\n * @see http://dict.variants.moe.edu.tw/variants/rbt/japan_chinese_character_tiles.rbt?pageId=2981908\n * @see https://en.wikipedia.org/wiki/List_of_j%C5%8Dy%C5%8D_kanji\n * @see https://hanzi.unihan.com.cn/CJKCompare\n * @see http://www5b.biglobe.ne.jp/%7Eharigaya/variants.html\n */\n\nimport { array_unique } from 'array-hyper-unique';\n\n/**\n * 資料來源 https://www.jpmarumaru.com/tw/teachKanjiComparison.asp\n * @see https://www.jpmarumaru.com/tw/teachKanjiComparison.asp\n */\n// @ts-ignore\nimport teachKanjiComparison = require('./teachKanjiComparison.json');\n\ntype IPLUS_TABLE = [string, string, string][];\n\nconst PLUS_TABLE: IPLUS_TABLE = array_unique<IPLUS_TABLE>([\n\t['蝕', '蝕', '蚀'],\n\t[\"絲\", \"絲\", \"丝\"],\n\t[\"異\", \"異\", \"异\"],\n\t[\"謎\", \"謎\", \"谜\"],\n\t[\"氷\", \"冰\", \"冰\"],\n\n\t// http://www.kanjipedia.jp/kanji/0003297700\n\t[\"詛\", \"詛\", \"诅\"],\n\t//['戻', '戾', null],\n\n\t// https://kotobank.jp/word/%E8%B2%AA%E5%A9%AA-564803\n\t[\"貪\", \"貪\", \"贪\"],\n\n\t[\"館\", \"館\", \"馆\"],\n\n\t[\"画\", \"劃\", \"划\"],\n\n\t[\"誰\", \"誰\", \"谁\"],\n\n\t[\"鶏\", \"雞\", \"鸡\"],\n\n\t[\"宮\", \"宮\", \"宫\"],\n\n\t[\"殻\", \"殻\", \"壳\"],\n\n\t[\"館\", \"館\", \"馆\"],\n\n\t[\"槍\", \"槍\", \"枪\"],\n\n\t//[\"兎\", \"兔\", \"兔\"],\n\t//[\"兔\", \"兔\", \"兔\"],\n\n\t['静', '靜', '静'],\n\n\t['髪', '髮', null],\n\n\t['棄', '棄', '弃'],\n\t['強', '強', '强'],\n\n\t['罵', '罵', '骂'],\n\n\t['駄', '馱', '驮'],\n\n\t['沢', '澤', '泽'],\n\n\t[\"歴\", \"歷\", \"历\"],\n\t[\"暦\", \"曆\", \"历\"],\n\n\t[\"刹\", \"剎\", \"刹\"],\n\n\t[\"錬\", \"鍊\", \"炼\"],\n\n\t[\"蓋\", \"蓋\", \"盖\"],\n\n\t[\"決\", \"決\", \"决\"],\n\n\t[\"晩\", \"晚\", \"晚\"],\n\n\t[\"恒\", \"恆\", \"恒\"],\n\n\t[\"准\", \"準\", \"准\"],\n\t[\"準\", \"準\", \"准\"],\n\n\t[\"傑\", \"傑\", \"杰\"],\n\n\t[\"圏\", \"圈\", \"圈\"],\n\n\t[\"煙\", \"煙\", \"烟\"],\n\n\t[\"甦\", \"甦\", \"苏\"],\n\n\t[\"並\", \"並\", \"并\"],\n\n\t[\"贓\", \"贓\", \"赃\"],\n\n\t[\"鹹\", \"鹹\", \"咸\"],\n\n\t[\"踪\", \"蹤\", \"踪\"],\n\t[\"踪\", \"踪\", \"踪\"],\n\n\t[\"秘\", \"祕\", \"秘\"],\n\n\t[\"黙\", \"默\", \"默\"],\n\n\t[\"圧\", \"壓\", \"压\"],\n\n\t[\"凄\", \"淒\", \"凄\"],\n\t[\"凄\", \"悽\", \"凄\"],\n\n\t[\"穀󠄁\", \"穀\", \"谷\"],\n\n\t[\"鶫\", \"鶇\", \"鸫\"],\n\t[\"鶇\", \"鶇\", \"鸫\"],\n\n\t[\"効\", \"效\", null],\n\n\t[\"揷\", \"插\", \"插\"],\n\n\t[\"賎\", \"賤\", \"贱\"],\n\n\t[\"箋\", \"箋\", \"笺\"],\n\n\t[\"窓\", \"窗\", \"窗\"],\n\n]);\n\nconst PLUS_TABLE_SAFE: IPLUS_TABLE = array_unique([\n\n\t[\"絶\", \"絕\", \"绝\"],\n\t[\"別\", \"別\", \"别\"],\n\t[\"魯\", \"魯\", \"鲁\"],\n\n\t[\"蘇\", \"蘇\", \"苏\"],\n\t[\"巻\", \"卷\", \"卷\"],\n\n\t[\"弐\", \"貳\", \"贰\"],\n\n\t[\"隷\", \"隸\", \"隶\"],\n\n\t[\"挿\", \"插\", \"插\"],\n\n] as IPLUS_TABLE);\n\nexport let TABLE = [] as string[][];\n\nPLUS_TABLE.forEach(function ([jp, zht, zhs])\n{\n\taddNew(TABLE, jp, zht, zhs);\n});\n\n// @ts-ignore\nTABLE = array_unique(TABLE.concat(teachKanjiComparison.filter(function (row)\n{\n\tif (['尨'].includes(row[0][0]))\n\t{\n\t\treturn false;\n\t}\n\n\treturn true;\n})));\n\nexport let TABLE_SAFE = [] as string[][];\n\n{\n\tlet skip = [\n\t\t'系',\n\t\t'欠',\n\t\t'凶',\n\t\t'后',\n\t\t'只',\n\t\t'隻',\n\t\t'无',\n\t\t'叶',\n\t\t//'尨',\n\t];\n\n\tTABLE = TABLE.filter(function (v)\n\t{\n\t\tlet [jp, zht, zhs] = v;\n\n\t\tif ((jp[0] == zht[0] && jp[0] == zhs[0]) || (skip.includes(jp[0]) || skip.includes(zht[0]) || skip.includes(zhs[0])))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n\n\tTABLE_SAFE = [];\n\n\tPLUS_TABLE_SAFE.forEach(function ([jp, zht, zhs])\n\t{\n\t\taddNew(TABLE, jp, zht, zhs);\n\t\taddNew(TABLE_SAFE, jp, zht, zhs);\n\t});\n\n\tlet cache = [];\n\n\tfor (let i in TABLE)\n\t{\n\t\tif (cache.includes(i))\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [jp, zht, zhs] = TABLE[i];\n\n\t\tlet _do = true;\n\t\tlet j;\n\n\t\tfor (j in TABLE)\n\t\t{\n\t\t\tif (j == i)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet [jp2, zht2, zhs2] = TABLE[j];\n\n\t\t\tif (zht.includes(zht2[0]))\n\t\t\t{\n\t\t\t\t_do = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (zhs.includes(zhs2[0]))\n\t\t\t{\n\t\t\t\t_do = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!_do)\n\t\t{\n\t\t\tcache.push(i);\n\t\t\tcache.push(j);\n\n\t\t\t//console.log(jp, zht, zhs);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tTABLE_SAFE.push(TABLE[i]);\n\t\t}\n\t}\n}\n\nexport function addNew(table: string[][], jp, zht, zhs): string[][]\n{\n\tjp = Array.isArray(jp) ? jp : [jp];\n\tzht = Array.isArray(zht) ? zht : [zht];\n\tzhs = Array.isArray(zhs) ? zhs : [zhs];\n\n\ttable.push([\n\t\tjp,\n\t\tzht,\n\t\tzhs,\n\t]);\n\n\treturn table;\n}\n\nexport default TABLE;\n//export default exports;\n\n//if (0)\n//{\n//\t// @ts-ignore\n//\timport * as fs from 'fs';\n//\tconsole.log(TABLE_SAFE);\n//\t//fs.writeFileSync('./temp.json', JSON.stringify(TABLE_SAFE, null, \"\\t\"));\n//}\n"]}